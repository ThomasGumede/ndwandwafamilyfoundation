{% extends '_base.html' %}
{% load static %}

{% block description %}
<meta name="description" content="{{user.biography|truncatechars:157}}">
{% endblock description %}


<!-- ==================================== TWITTER =================================== -->
{% block twitter %}
<meta name="twitter:title" content="{{user.username}}" />
<meta name="twitter:description" content="{{user.biography|truncatechars:157}}" />

<meta name="twitter:image" content="{{request.scheme}}://{{request.get_host}}{{user.profile_image.url}}" />
{% endblock twitter %}


<!-- ==================================== OG =================================== -->
{% block OG %}
<meta property="og:type" content="business.business">
<meta property="og:title" content="{{user.username|truncatechars:157}}">
<meta property="og:url" content="https://ndwandwafam.org">
<meta property="og:image" content="{{request.scheme}}://{{request.get_host}}{{user.profile_image.url}}">
{% endblock OG %}

{% block content %}
    <section class="relative block h-[300px] bg-gray-200">
        <div class="top-auto bottom-0 left-0 right-0 w-full absolute pointer-events-none overflow-hidden h-[70px]"
            style="transform: translateZ(0px)">
            <svg class="absolute bottom-0 overflow-hidden" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none"
                version="1.1" viewBox="0 0 2560 100" x="0" y="0">
                <polygon class="text-gray-200 fill-current" points="2560 0 2560 100 0 100"></polygon>
            </svg>
        </div>
    </section>
    <section class="relative py-16 bg-gray-200">
        <div class="container mx-auto px-4">
            <div class="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-xl rounded-lg -mt-64">
                <div class="px-6">
                    <div class="flex flex-wrap lg:items-center justify-center">
                        <div class="w-full lg:w-3/12 px-4 lg:order-2 flex justify-center">
                            <div class="relative w-48 h-48 border-none -m-16 -ml-20 lg:-ml-16 rounded-full overflow-hidden">
                                {% if user.profile_image %}
                                <img alt="{{user.get_username}} profile image"
                                    src="{{user.profile_image.url}}"
                                    class="shadow-xl  h-full align-middle  w-full">
                                {% else %}
                                <img alt="{{user.get_username}} profile image" src="{% static 'images/global/image-no.jpg'  %}"
                                    class="shadow-xl  h-full align-middle  w-full">
                                
                                {% endif %}
                            </div>
                        </div>
                        <div class="w-full lg:w-4/12 px-4 lg:order-3 lg:text-right lg:self-center">
                            <div class="py-6 px-3 mt-32 sm:mt-0">
                                <button
                                    class="bg-pink-500 active:bg-pink-600 uppercase text-white font-bold hover:shadow-md shadow text-xs px-4 py-2 rounded outline-none focus:outline-none sm:mr-2 mb-1 ease-linear transition-all duration-150"
                                    type="button">
                                    Connect
                                </button>
                            </div>
                        </div>
                        <div class="w-full lg:w-4/12 px-4 lg:order-1">
                            <div class="flex justify-center py-4 lg:pt-4 pt-8">
                                <div class="mr-4 p-3 text-center">
                                    <span
                                        class="text-xl font-bold block uppercase tracking-wide text-gray-600">{{user.campaigns.count}}</span><span
                                        class="text-sm text-gray-400">Campaigns</span>
                                </div>
                                <div class="mr-4 p-3 text-center">
                                    <span
                                        class="text-xl font-bold block uppercase tracking-wide text-gray-600">{{user.events.count}}</span><span
                                        class="text-sm text-gray-400">Events</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="text-center mt-12">
                        <h3 class="text-4xl font-semibold leading-normal mb-2 text-gray-700">
                            {{user.title}} {{user.get_full_name}}
                        </h3>
                        <div class="flex w-fit mx-auto items-center mb-2 space-x-5">
                            {% for hobbie in user.hobbies.all %}
                                <div class="p-2 bg-gray-50 text-center">
                                    <a href="http://" class="text-gray-900 font-normal">{{hobbie}}</a>
                                </div>
                            {% endfor %}
                        </div>
                        <div class="text-sm leading-normal mt-0 mb-2 text-gray-400 font-bold uppercase">
                            <i class="fas fa-map-marker-alt mr-2 text-lg text-gray-400"></i>
                            {{user.address}}
                        </div>
                        {% if user.occupation %}
                        <div class="mb-2 text-gray-600 MB-2">
                            <i class="fas fa-briefcase mr-2 text-lg text-gray-400"></i>{{user.occupation}} - {{user.professional_affiliations}}
                        </div>
                        {% endif %}
                        
                        {% for qualification in user.qualifications.all %}
                        <div class="mb-2 text-gray-600 MB-2">
                            
                            <i class="fas fa-university mr-2 text-lg text-gray-400"></i>{{qualification.title}} - {{qualification.institution}}
                            
                        </div>
                        {% endfor %}
                        {% if user.relatives.count > 0 %}
                        <div class="w-fit mx-auto text-center mb-2 space-y-2">
                            <h3 class="text-lg font-bold">My relatives and spouse</h3>
                            <div class="w-fit flex flex-wrap gap-2">
                                {% for relative in user.relatives.all %}
                                <div class=" text-gray-600 ">
                                
                                    {{relative.full_name}}<span
                                        class="text-sm font-light">({{relative.relationship}})</span>
                                
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                            
                        {% endif %}
                    </div>
                    <div class="mt-10 py-10 border-t border-gray-200 text-center">
                        <div class="flex flex-wrap justify-center">
                            <div class="w-full lg:w-9/12 px-4">
                                <p class="mb-4 text-lg leading-relaxed text-gray-700">
                                    {{user.biography}}
                                </p>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock content %}